<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMaster - Monthly Tasks</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        body {
            background: linear-gradient(-45deg, #e3f2fd, #f3e5f5, #fce4ec, #e8f5e9);
            background-size: 400% 400%;
            animation: gradient 20s ease infinite;
        }
        .calendar-day {
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: pointer;
            position: relative;
        }
        .calendar-day:hover {
            transform: scale(1.15) translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            z-index: 10;
        }
        .calendar-day.today {
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7); }
            50% { box-shadow: 0 0 20px 10px rgba(102, 126, 234, 0); }
        }
        .task-badge {
            animation: bounce-small 2s infinite;
        }
        @keyframes bounce-small {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        .stat-card-monthly {
            position: relative;
            overflow: hidden;
        }
        .stat-card-monthly::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .slide-in-calendar {
            animation: slideInCalendar 0.6s ease-out;
        }
        @keyframes slideInCalendar {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        .month-transition {
            animation: fadeScale 0.3s ease;
        }
        @keyframes fadeScale {
            0% { opacity: 0.5; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white bg-opacity-90 backdrop-blur-xl shadow-xl sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="bg-gradient-to-r from-purple-600 to-indigo-600 p-2 rounded-xl">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent">TaskMaster</h1>
                </div>
                <div class="flex space-x-2">
                    <a href="dashboard.html" class="px-4 py-2 text-gray-600 hover:bg-purple-50 rounded-lg font-semibold transition">Today</a>
                    <a href="monthly.html" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-lg transform hover:scale-105 transition shadow-lg">Monthly</a>
                    <a href="rewards.html" class="px-4 py-2 text-gray-600 hover:bg-purple-50 rounded-lg font-semibold transition">Rewards</a>
                    <a href="records.html" class="px-4 py-2 text-gray-600 hover:bg-purple-50 rounded-lg font-semibold transition">Records</a>
                    <button onclick="logout()" class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg font-semibold transition">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- Header -->
        <div class="mb-8 flex justify-between items-center">
            <div>
                <h2 class="text-5xl font-bold text-gray-800 mb-2 flex items-center">
                    <span class="mr-3 animate-bounce">üìÖ</span>
                    Monthly Overview
                </h2>
                <p class="text-gray-600 text-lg">Track your progress throughout the month</p>
            </div>
            <div class="flex items-center space-x-4">
                <button onclick="prevMonth()" class="px-6 py-3 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 font-bold text-purple-600 border-2 border-purple-200">
                    ‚Üê Previous
                </button>
                <h3 class="text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent" id="currentMonth"></h3>
                <button onclick="nextMonth()" class="px-6 py-3 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all transform hover:scale-105 font-bold text-purple-600 border-2 border-purple-200">
                    Next ‚Üí
                </button>
            </div>
        </div>

        <!-- Monthly Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="stat-card-monthly bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-700 rounded-2xl p-8 text-white shadow-2xl transform hover:scale-105 transition-all duration-300">
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-bold">Completion Rate</h4>
                        <div class="text-5xl">üéØ</div>
                    </div>
                    <p class="text-6xl font-black" id="completionRate">0%</p>
                    <p class="text-yellow-200 mt-2">Success percentage</p>
                </div>
            </div>
        </div>

        <!-- Calendar View -->
        <div class="bg-white bg-opacity-90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 mb-8 slide-in-calendar">
            <div class="grid grid-cols-7 gap-4 mb-6">
                <div class="text-center font-black text-purple-600 text-lg">Sun</div>
                <div class="text-center font-black text-purple-600 text-lg">Mon</div>
                <div class="text-center font-black text-purple-600 text-lg">Tue</div>
                <div class="text-center font-black text-purple-600 text-lg">Wed</div>
                <div class="text-center font-black text-purple-600 text-lg">Thu</div>
                <div class="text-center font-black text-purple-600 text-lg">Fri</div>
                <div class="text-center font-black text-purple-600 text-lg">Sat</div>
            </div>
            <div id="calendar" class="grid grid-cols-7 gap-4 month-transition">
                <!-- Calendar days will be generated here -->
            </div>
        </div>

        <!-- Add Monthly Task -->
        <div class="bg-white bg-opacity-90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 mb-8 transform hover:scale-[1.01] transition-all duration-300">
            <div class="flex items-center mb-6">
                <div class="bg-gradient-to-r from-purple-600 to-indigo-600 p-3 rounded-xl mr-4">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                </div>
                <h3 class="text-3xl font-bold text-gray-800">Add Monthly Task</h3>
            </div>
            <form onsubmit="addMonthlyTask(event)" class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <input type="text" id="monthlyTaskTitle" placeholder="‚úçÔ∏è Task title" required
                    class="px-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 font-medium">
                <input type="date" id="monthlyTaskDate" required
                    class="px-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300">
                <input type="time" id="monthlyTaskTime" required
                    class="px-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300">
                <select id="monthlyTaskPriority" required
                    class="px-4 py-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 font-medium">
                    <option value="low">üü¢ Low Priority</option>
                    <option value="medium" selected>üü° Medium Priority</option>
                    <option value="high">üî¥ High Priority</option>
                </select>
                <button type="submit"
                    class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-xl font-bold hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-2xl">
                    ‚ûï Add Task
                </button>
            </form>
        </div>

        <!-- Selected Day Tasks -->
        <div class="bg-white bg-opacity-90 backdrop-blur-xl rounded-3xl shadow-2xl p-8">
            <div class="flex items-center mb-6">
                <div class="bg-gradient-to-r from-purple-600 to-indigo-600 p-3 rounded-xl mr-4">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                </div>
                <h3 class="text-3xl font-bold text-gray-800">Tasks for <span id="selectedDate" class="text-purple-600">Select a day</span></h3>
            </div>
            <div id="selectedDayTasks" class="space-y-4">
                <div class="text-center py-16">
                    <div class="text-8xl mb-4 animate-bounce">üìÖ</div>
                    <p class="text-gray-500 text-xl font-semibold">Click on a calendar day to view tasks</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let monthlyTasks = {};
        let selectedDay = null;

        function init() {
            updateMonthDisplay();
            generateCalendar();
            loadMonthlyTasks();
        }

        function updateMonthDisplay() {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            document.getElementById('currentMonth').textContent = 
                `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
        }

        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            let html = '';
            
            for (let i = 0; i < firstDay; i++) {
                html += '<div></div>';
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const tasksForDay = monthlyTasks[dateStr] || [];
                const isToday = day === today.getDate() && month === today.getMonth() && year === today.getFullYear();
                const completedTasks = tasksForDay.filter(t => t.completed).length;
                const totalTasks = tasksForDay.length;
                
                html += `
                    <div onclick="selectDay('${dateStr}')" 
                        class="calendar-day ${isToday ? 'today ring-4 ring-purple-500' : ''} bg-gradient-to-br from-white to-gray-50 rounded-2xl p-4 min-h-32 hover:from-purple-50 hover:to-purple-100 shadow-lg">
                        <div class="font-black text-2xl text-gray-800 mb-2 ${isToday ? 'text-purple-600' : ''}">${day}</div>
                        ${tasksForDay.length > 0 ? `
                            <div class="space-y-2">
                                <div class="flex flex-wrap gap-1">
                                    ${tasksForDay.slice(0, 3).map(t => `
                                        <span class="task-badge w-3 h-3 rounded-full shadow-lg ${
                                            t.completed ? 'bg-green-500' : 'bg-yellow-400'
                                        }"></span>
                                    `).join('')}
                                    ${tasksForDay.length > 3 ? `<span class="text-xs font-bold text-purple-600">+${tasksForDay.length - 3}</span>` : ''}
                                </div>
                                <div class="text-xs font-bold text-gray-600">
                                    ${completedTasks}/${totalTasks} ‚úì
                                </div>
                            </div>
                        ` : '<div class="text-xs text-gray-400 font-semibold">No tasks</div>'}
                    </div>
                `;
            }
            
            calendar.innerHTML = html;
        }

        function loadMonthlyTasks() {
            monthlyTasks = {
                '2025-10-18': [
                    { id: 1, title: 'Team meeting', time: '10:00', priority: 'high', completed: false },
                    { id: 2, title: 'Code review', time: '14:00', priority: 'medium', completed: false }
                ],
                '2025-10-20': [
                    { id: 3, title: 'Project deadline', time: '17:00', priority: 'high', completed: false }
                ],
                '2025-10-17': [
                    { id: 4, title: 'Today task', time: '09:00', priority: 'medium', completed: true }
                ]
            };
            
            updateMonthlyStats();
            generateCalendar();
        }

        function addMonthlyTask(e) {
            e.preventDefault();
            const title = document.getElementById('monthlyTaskTitle').value;
            const date = document.getElementById('monthlyTaskDate').value;
            const time = document.getElementById('monthlyTaskTime').value;
            const priority = document.getElementById('monthlyTaskPriority').value;

            const newTask = {
                id: Date.now(),
                title,
                time,
                priority,
                completed: false
            };

            if (!monthlyTasks[date]) {
                monthlyTasks[date] = [];
            }
            monthlyTasks[date].push(newTask);

            console.log('Adding monthly task:', newTask);

            e.target.reset();
            generateCalendar();
            updateMonthlyStats();
            if (selectedDay === date) {
                displayTasksForDay(date);
            }
            
            showNotification('‚úÖ Monthly task added!', 'success');
        }

        function selectDay(dateStr) {
            selectedDay = dateStr;
            const date = new Date(dateStr);
            document.getElementById('selectedDate').textContent = 
                date.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            displayTasksForDay(dateStr);
            
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('ring-2', 'ring-indigo-500');
            });
            event.currentTarget.classList.add('ring-2', 'ring-indigo-500');
        }

        function displayTasksForDay(dateStr) {
            const container = document.getElementById('selectedDayTasks');
            const tasks = monthlyTasks[dateStr] || [];

            if (tasks.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-16">
                        <div class="text-8xl mb-4">üìù</div>
                        <p class="text-gray-500 text-xl font-semibold">No tasks for this day</p>
                        <p class="text-gray-400 mt-2">Add a task to get started!</p>
                    </div>
                `;
                return;
            }

            const priorityStyles = {
                high: 'bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500',
                medium: 'bg-gradient-to-r from-yellow-50 to-yellow-100 border-l-4 border-yellow-500',
                low: 'bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500'
            };

            const priorityIcons = { high: 'üî¥', medium: 'üü°', low: 'üü¢' };

            container.innerHTML = tasks.map((task, index) => `
                <div class="flex items-center justify-between p-6 ${priorityStyles[task.priority]} rounded-2xl ${task.completed ? 'opacity-60' : ''} shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02]" style="animation: slideIn 0.3s ease ${index * 0.1}s both">
                    <div class="flex items-center space-x-4 flex-1">
                        <input type="checkbox" ${task.completed ? 'checked' : ''} 
                            onchange="toggleMonthlyTask('${dateStr}', ${task.id})"
                            class="w-6 h-6 text-purple-600 rounded-lg focus:ring-2 focus:ring-purple-500 cursor-pointer transform hover:scale-110 transition">
                        <div class="flex-1">
                            <h4 class="font-bold text-gray-800 text-lg ${task.completed ? 'line-through' : ''}">${task.title}</h4>
                            <p class="text-sm text-gray-600 mt-1">‚è∞ ${task.time} | ${priorityIcons[task.priority]} Priority: ${task.priority.toUpperCase()}</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="editMonthlyTask('${dateStr}', ${task.id})" 
                            class="px-4 py-2 bg-blue-500 text-white rounded-xl text-sm font-bold hover:bg-blue-600 transition transform hover:scale-105 shadow-lg">‚úèÔ∏è Edit</button>
                        <button onclick="deleteMonthlyTask('${dateStr}', ${task.id})" 
                            class="px-4 py-2 bg-red-500 text-white rounded-xl text-sm font-bold hover:bg-red-600 transition transform hover:scale-105 shadow-lg">üóëÔ∏è Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function toggleMonthlyTask(dateStr, taskId) {
            const task = monthlyTasks[dateStr].find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                displayTasksForDay(dateStr);
                generateCalendar();
                updateMonthlyStats();
                
                if (task.completed) {
                    showNotification('üéâ Task completed!', 'success');
                }
            }
        }

        function editMonthlyTask(dateStr, taskId) {
            const task = monthlyTasks[dateStr].find(t => t.id === taskId);
            if (task) {
                document.getElementById('monthlyTaskTitle').value = task.title;
                document.getElementById('monthlyTaskDate').value = dateStr;
                document.getElementById('monthlyTaskTime').value = task.time;
                document.getElementById('monthlyTaskPriority').value = task.priority;
                deleteMonthlyTask(dateStr, taskId);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function deleteMonthlyTask(dateStr, taskId) {
            if (confirm('Are you sure you want to delete this task?')) {
                monthlyTasks[dateStr] = monthlyTasks[dateStr].filter(t => t.id !== taskId);
                if (monthlyTasks[dateStr].length === 0) {
                    delete monthlyTasks[dateStr];
                }
                displayTasksForDay(dateStr);
                generateCalendar();
                updateMonthlyStats();
                showNotification('üóëÔ∏è Task deleted', 'info');
            }
        }

        function updateMonthlyStats() {
            let total = 0;
            let completed = 0;

            Object.values(monthlyTasks).forEach(tasks => {
                total += tasks.length;
                completed += tasks.filter(t => t.completed).length;
            });

            animateValue('monthlyTotal', total);
            animateValue('monthlyCompleted', completed);
            
            const rate = total > 0 ? Math.round((completed / total) * 100) : 0;
            document.getElementById('completionRate').textContent = rate + '%';
        }

        function animateValue(id, value) {
            const element = document.getElementById(id);
            const start = parseInt(element.textContent) || 0;
            const duration = 500;
            const increment = (value - start) / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= value) || (increment < 0 && current <= value)) {
                    current = value;
                    clearInterval(timer);
                }
                element.textContent = Math.round(current);
            }, 16);
        }

        function prevMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateMonthDisplay();
            generateCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            updateMonthDisplay();
            generateCalendar();
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 right-4 bg-white px-6 py-4 rounded-2xl shadow-2xl z-50 transform translate-x-full transition-all duration-500 border-l-4 ${
                type === 'success' ? 'border-green-500' : type === 'error' ? 'border-red-500' : 'border-blue-500'
            }`;
            notification.innerHTML = `<p class="font-bold text-gray-800">${message}</p>`;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'login.html';
            }
        }

        init();
    </script>
</body>
</html>Total Monthly Tasks</h4>
                        <div class="text-5xl">üìã</div>
                    </div>
                    <p class="text-6xl font-black" id="monthlyTotal">0</p>
                    <p class="text-purple-200 mt-2">Tasks this month</p>
                </div>
            </div>
            <div class="stat-card-monthly bg-gradient-to-br from-green-500 via-emerald-600 to-teal-700 rounded-2xl p-8 text-white shadow-2xl transform hover:scale-105 transition-all duration-300">
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-bold">Completed Tasks</h4>
                        <div class="text-5xl">‚úÖ</div>
                    </div>
                    <p class="text-6xl font-black" id="monthlyCompleted">0</p>
                    <p class="text-green-200 mt-2">Successfully finished</p>
                </div>
            </div>
            <div class="stat-card-monthly bg-gradient-to-br from-yellow-500 via-orange-600 to-red-600 rounded-2xl p-8 text-white shadow-2xl transform hover:scale-105 transition-all duration-300">
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-bold">